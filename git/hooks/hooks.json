{
  "description": "Git workflow enhancement hooks providing safety reminders and convention detection",
  "hooks": {
    "PreToolUse": [
      {
        "matcher": "Bash",
        "hooks": [
          {
            "type": "prompt",
            "prompt": "Analyze the bash command in $TOOL_INPUT. If it contains git or gh commands, provide relevant reminders:\n\n1. For 'git commit': Check if on mainline branch (main/master). Remind about conventional commits if detected in repo. Mention CLAUDE.md verification steps if present.\n\n2. For 'git add': Remind about staged vs unstaged files. Warn if adding sensitive files (.env, credentials, keys).\n\n3. For 'git checkout -b', 'git switch -c', 'git branch' (creating branches): If conventional commits detected, suggest type prefixes (feat/, fix/, docs/, etc.).\n\n4. For 'git push': Check for fork setup (origin vs upstream). Warn if force pushing to main/master.\n\n5. For 'git rebase', 'git reset --hard', 'git push --force' (dangerous ops): Remind about safety rules - never force push to mainline, use --force-with-lease, backup before hard reset.\n\n6. For 'gh pr': Suggest using GitHub MCP tools instead for better integration.\n\n7. For 'gh' (other commands): Mention GitHub MCP tools may be available for this operation.\n\nProvide concise reminders (1-2 sentences max). Only provide reminders relevant to the actual command. Return empty systemMessage if no git/gh commands detected.",
            "timeout": 30
          }
        ]
      },
      {
        "matcher": "mcp__plugin_github_github__create_pull_request",
        "hooks": [
          {
            "type": "prompt",
            "prompt": "A pull request is being created via GitHub MCP. Examine the tool parameters in $TOOL_INPUT:\n\n- If 'head' contains a colon (e.g., 'user:branch'), this is a fork PR - verify 'owner' is the upstream repository.\n- If 'head' is just a branch name, this is a direct repository PR.\n\nProvide a brief 1-sentence reminder only if you notice a potential issue. If parameters look correct, return empty systemMessage.",
            "timeout": 30
          }
        ]
      },
      {
        "matcher": "mcp__plugin_github_github__push_files",
        "hooks": [
          {
            "type": "prompt",
            "prompt": "Files are being pushed via GitHub MCP. Examine the 'branch' parameter in $TOOL_INPUT:\n\n- If branch is 'main' or 'master', remind that feature branches are preferred for changes.\n\nProvide a brief 1-sentence reminder only if pushing to a mainline branch. Otherwise return empty systemMessage.",
            "timeout": 30
          }
        ]
      }
    ]
  }
}
